<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.335">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>My Data Science - 3&nbsp; Tech. Memo</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./windows.html" rel="next">
<link href="./articles.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tech. Memo</span></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">My Data Science</a> 
        <div class="sidebar-tools-main tools-wide">
    <a href="https://github.com/icu-hsuzuki/myds/" title="Source Code" class="sidebar-tool px-1"><i class="bi bi-github"></i></a>
    <a href="./My-Data-Science.pdf" title="Download PDF" class="sidebar-tool px-1"><i class="bi bi-file-pdf"></i></a>
  <a href="" class="quarto-reader-toggle sidebar-tool" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
    </div>
      </div>
      <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
      </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">この文書について</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./articles.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Articles</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./techmemo.html" class="sidebar-item-text sidebar-link active"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tech. Memo</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./windows.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Windows</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./quarto-book.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Quarto and Quarto Book</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./todolist.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">To Do List</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Summary</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">References</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#windows-installation-of-r-rstudio-tex" id="toc-windows-installation-of-r-rstudio-tex" class="nav-link active" data-scroll-target="#windows-installation-of-r-rstudio-tex"><span class="toc-section-number">3.1</span>  Window’s Installation of R, RStudio, TeX</a>
  <ul class="collapse">
  <li><a href="#環境について" id="toc-環境について" class="nav-link" data-scroll-target="#環境について"><span class="toc-section-number">3.1.1</span>  環境について</a></li>
  <li><a href="#目標とすることトラブル概要" id="toc-目標とすることトラブル概要" class="nav-link" data-scroll-target="#目標とすることトラブル概要"><span class="toc-section-number">3.1.2</span>  目標とすること・トラブル概要</a></li>
  <li><a href="#pdf-の作成について" id="toc-pdf-の作成について" class="nav-link" data-scroll-target="#pdf-の作成について"><span class="toc-section-number">3.1.3</span>  PDF の作成について</a></li>
  <li><a href="#別のアカウントを作成する方法" id="toc-別のアカウントを作成する方法" class="nav-link" data-scroll-target="#別のアカウントを作成する方法"><span class="toc-section-number">3.1.4</span>  別のアカウントを作成する方法</a></li>
  <li><a href="#非管理者として-r-と-rstudio-をインストール" id="toc-非管理者として-r-と-rstudio-をインストール" class="nav-link" data-scroll-target="#非管理者として-r-と-rstudio-をインストール"><span class="toc-section-number">3.1.5</span>  非管理者として R と RStudio をインストール</a></li>
  <li><a href="#texlive-のインストール" id="toc-texlive-のインストール" class="nav-link" data-scroll-target="#texlive-のインストール"><span class="toc-section-number">3.1.6</span>  TeXLive のインストール</a></li>
  <li><a href="#onedrive-の設定について" id="toc-onedrive-の設定について" class="nav-link" data-scroll-target="#onedrive-の設定について"><span class="toc-section-number">3.1.7</span>  OneDrive の設定について</a></li>
  </ul></li>
  <li><a href="#git-github-rstudio" id="toc-git-github-rstudio" class="nav-link" data-scroll-target="#git-github-rstudio"><span class="toc-section-number">3.2</span>  Git-GitHub-RStudio</a>
  <ul class="collapse">
  <li><a href="#basics" id="toc-basics" class="nav-link" data-scroll-target="#basics"><span class="toc-section-number">3.2.1</span>  Basics</a></li>
  </ul></li>
  <li><a href="#removing-large-files" id="toc-removing-large-files" class="nav-link" data-scroll-target="#removing-large-files"><span class="toc-section-number">3.3</span>  Removing Large Files</a>
  <ul class="collapse">
  <li><a href="#simple-pull-request" id="toc-simple-pull-request" class="nav-link" data-scroll-target="#simple-pull-request"><span class="toc-section-number">3.3.1</span>  Simple Pull Request</a></li>
  <li><a href="#owner-side-approval" id="toc-owner-side-approval" class="nav-link" data-scroll-target="#owner-side-approval"><span class="toc-section-number">3.3.2</span>  Owner Side Approval</a></li>
  <li><a href="#参考資料" id="toc-参考資料" class="nav-link" data-scroll-target="#参考資料"><span class="toc-section-number">3.3.3</span>  参考資料</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Tech. Memo</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<blockquote class="blockquote">
<p>技術的なメモを記す。備忘録であり、有用かどうかは不明。</p>
</blockquote>
<section id="windows-installation-of-r-rstudio-tex" class="level2" data-number="3.1">
<h2 data-number="3.1" class="anchored" data-anchor-id="windows-installation-of-r-rstudio-tex"><span class="header-section-number">3.1</span> Window’s Installation of R, RStudio, TeX</h2>
<blockquote class="blockquote">
<p>Windows で、RStudio 上で R を使用し、さらに、RMarkdown 文書を PDF で出力するときに、アカウントが日本語名であること、および、OneDrive の設定が問題になることが報告されている。実験結果を以下に記す。</p>
</blockquote>
<p>以下は、あくまでも、一つのPCでの実験結果で、普遍性があるかどうかは不明である。異なる、問題が生じた場合には、著者のホームページにある電子メールアドレスにご一報いただけると嬉しい。かなりの部分は、macOS でも同じであるが、ここでは、時々問題が起こる、Windows についてのみ記す。</p>
<section id="環境について" class="level3" data-number="3.1.1">
<h3 data-number="3.1.1" class="anchored" data-anchor-id="環境について"><span class="header-section-number">3.1.1</span> 環境について</h3>
<p>いずれは、Windows 11 についても、調べてみたいが、以下は、Fujitsu LIFEBOOK A577/R 上に、Windows 10 を載せたモデルである。</p>
<section id="command-prompt-systeminfo" class="level4" data-number="3.1.1.1">
<h4 data-number="3.1.1.1" class="anchored" data-anchor-id="command-prompt-systeminfo"><span class="header-section-number">3.1.1.1</span> Command Prompt: <code>systeminfo</code></h4>
<ul>
<li><p>OS: Microsoft Windows 10 Home</p></li>
<li><p>OS Version: 10.0.19044 N/A ビルド 19044</p></li>
<li><p>System Model: FMVA18005</p></li>
</ul>
<p>Windows は、Windows 10/11 それぞれに、非常にたくさんの種類があり、さらに、バージョンによっても、変わるため、すべてのシステムに対応することを確認することはできない。問題が出たときに、一つ一つ対応する以外に、方法はないように思われる。</p>
</section>
</section>
<section id="目標とすることトラブル概要" class="level3" data-number="3.1.2">
<h3 data-number="3.1.2" class="anchored" data-anchor-id="目標とすることトラブル概要"><span class="header-section-number">3.1.2</span> 目標とすること・トラブル概要</h3>
<p>この項目では、管理者権限があるアカウントの場合について記する。管理者権限がない場合は、別項目を参照。</p>
<ol type="1">
<li><p>R をインストール</p>
<ul>
<li><a href="https://cloud.r-project.org/">The Comprehensive R Archive Network</a>　からダウンロードし、すべて初期設定（default）でインストール</li>
</ul></li>
<li><p>RStudio をインストール</p>
<ul>
<li><a href="https://posit.co/downloads/">Posit: Download RStudio</a>　から、RStudio Desktop Free を選択すると、<a href="https://posit.co/download/rstudio-desktop/">RStudio Desktop</a> のページに行き、R をまずは、インストールするように指示があり、その右から、ダウンロードできるようになっていますから、すべて初期設定（default）でインストール</li>
</ul></li>
<li><p>RNotebook を新規作成することで、いくつかのパッケージをインストール</p>
<ul>
<li><p>RStudio を実行、New Project を作成し、File から <code>New File &gt; R Notebook</code> を選択。この段階で、インストールが必要だと表示されるので、インストール。ファイル名を付けて保存。Preview を実行。Code Chunk を実行して、Preview。</p></li>
<li><p>RStudio が提供する、テンプレートを使うことで、それ自体には、問題がないので、確認がしやすい。自分で作成した、R Notebook などを使う場合は、その中に、他のエラーが含まれている場合もり、問題が複雑になるので、上記の方法をお勧めする。</p></li>
</ul></li>
<li><p>RNotebook を PDF で出力</p>
<ul>
<li><p>R Notebook の knit より、<code>knit PDF</code>。TeXLive などが導入されていなければ、最初は、TeX System が見つけられないと出る。</p></li>
<li><p>Console で、<code>tinytex::install_tinytex()</code> を実行してから、<code>knit PDF</code></p></li>
<li><p>3 と同じ理由で、R Notebook のテンプレートを変更せずに、実行することをお勧めする。エラーの背後にある問題を切り分けるためである。</p></li>
</ul></li>
</ol>
<p>RNotebook を新規作成することで、かなりの数の、Package をインストールすることになり、パッケージインストールに関して、確認ができる。</p>
<p>PDF で出力することで、TeX (実際にはその総合開発環境の TeXLive) 環境の確認が可能である。加えて、個人的には、日本語環境の確認をすることにしているが、TeX 環境が適切に稼働していれば、適切に、PDF も作成できるので、日本語環境の問題は、別項目とする。</p>
<p>上記のプロセスで、全く問題がなければ、この項目でのトラブルシューティングは不要。以下簡単なメモ。</p>
<ol type="1">
<li><p>R のインストールでは問題は起きないと思われる。ただし、言語を英語を選択しても、システムの言語が日本語だと、日本語になるようだ。</p></li>
<li><p>RStudio は、通常のものは、管理者権限がないとインストールできない。管理者権限がない場合は、当該項目を参照。</p></li>
<li><p>Package を、経験的には、27個ほど、インストールするが、この時点でエラーが起こる場合もあるようだ。<code>Tools &gt; Global Option &gt; Packages</code> から、Repository を 設定すれば、問題がないようである。ネット接続に問題がある場合は別対応。OneDrive で、HomeDirectory も、バックアップしている場合は、問題が起こるようである。対応は下に記する。</p></li>
<li><p>PDF 作成には、TeX システムが必要であるが、TeX システムは、環境変数 Path に書き加えて、管理するが、このときに、Path に、日本語などの２バイト文字が含まれると、問題が起こる。その回避の方策は下に記する。</p></li>
</ol>
</section>
<section id="pdf-の作成について" class="level3" data-number="3.1.3">
<h3 data-number="3.1.3" class="anchored" data-anchor-id="pdf-の作成について"><span class="header-section-number">3.1.3</span> PDF の作成について</h3>
<p>上にも書いたように、基本的に、TeX システムが適切に動いているかどうかが鍵となる。TeXLive のシステムを、PC にインストールできていれば良いので、R の Package tinytex よりも、利用者も多く、ネット上の情報も多いが、全てをインストールするには、6GB 程度のディスク容量が必要である。TeX を RMarkdown など、R 関連以外でも使う場合は別として、このディクス使用量は大きいので、tinytex を利用するのがおすすめである。TeXLive のインストールは、主要なものだけを、選択すれば、使用する ディスク容量も減るが、それでも、2GB 近く必要なので、tinytex を使って、必要なもののみ、インストールしていく方法が、お勧めである。環境変数を確認しながら、インストールしていくのが望ましいが、一応、それをしなくても、可能なようなので、まずは、その方法から書く。</p>
<section id="tinytex-tinytex" class="level4" data-number="3.1.3.1">
<h4 data-number="3.1.3.1" class="anchored" data-anchor-id="tinytex-tinytex"><span class="header-section-number">3.1.3.1</span> <code>tinytex, TinyTeX</code></h4>
<p>紛らわしいが、これら二つは別物である。<code>tinytex</code> は、TeXLive を管理する、R のパッケージ。<code>TinyTeX</code> は、TeXLive の最小版である。そこで、R では、tinytex を使って、TinyTeX をインストールしたり、アンインストールしたりすることになる。</p>
<p>トラブルは、TinyTeX をインストールする段階と、これを使って、PDF を作成する段階と２箇所で起こりうる。</p>
<p>まずは、RStudio で、R Notebook を利用しようとすると、少し待つことになるが、<code>tinytex</code> が自動的にインストールされる。（右下の窓枠の Packages を見ると、最初は入っていないが、R Notebook を利用しようとして、インストールを許可すると、tinytex がチェックは入っていないが、リストには加わっていることが確認できる。）</p>
<p>PDF を作成しようとすると、TeX システムが見つからないと出、TinyTeX をインストールすることが最初のオプションとして示される。</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a>tinytex<span class="sc">::</span><span class="fu">install_tinytex</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>コンソールで実行する。すでに、TeXLive パッケージが入っていたり、以前、インストールした、TinyTeX の残骸（アンインストールしても、Path が残っているなどして）がある場合には、エラーになる。エラーが出ない場合も</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>tinytex<span class="sc">::</span><span class="fu">is_tinytex</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>と、コンソールで実行すると、<code>TRUE</code> または <code>FALSE</code> と出る。</p>
<p><code>TRUE</code> なら、R Notebook から、PDF を作成する。PDF が作成できれば、問題なし。アカウント名が日本語だったり、OneDrive の設定によっては、ここで、PDF が作成できない状態が生じる。</p>
</section>
<section id="問題解決法" class="level4" data-number="3.1.3.2">
<h4 data-number="3.1.3.2" class="anchored" data-anchor-id="問題解決法"><span class="header-section-number">3.1.3.2</span> 問題解決法</h4>
<p>わたしの環境では、さまざまな設定を変えて実験したが、かならず問題が解決するというわけではないと思われることを言及しておく。以下の命令は、<code>tinytex</code> の<a href="https://cran.r-project.org/web/packages/tinytex/tinytex.pdf">マニュアル</a>による。</p>
<ol type="1">
<li>問題が起こったら、TinyTeX を アンインストールする
<ul>
<li><code>tinytex::unstall_tinytex()</code> を コンソールで実行</li>
</ul></li>
<li>サインアウトし、サインインしなおす
<ul>
<li>環境変数（Path）の設定に、反映される必要がある。</li>
</ul></li>
<li>C ドライブの新しいディレクトリーにインストールする
<ul>
<li><p><code>tinytex::install_tinytex(dir = "C:/myTinyTeX")</code> を コンソールで実行</p></li>
<li><p><code>myTinyTeX</code> は自由に決めて良いが、C ドライブに、新しくディレクトリーを作成して、そのディレクトリーに、インストールを実行するものである。もし、すでに、ディレクトリーを作成した場合は、<code>tinytex::install_tinytex(dir = "C:/myTinyTeX", force=TRUE)</code> とする。</p></li>
</ul></li>
<li>サインアウトし、サインインしなおす
<ul>
<li>環境変数（Path）の設定に、反映される必要がある。</li>
</ul></li>
<li>R Notebook から knit PDF を利用して、PDF を作成する。</li>
</ol>
</section>
<section id="問題が解決しないとき" class="level4" data-number="3.1.3.3">
<h4 data-number="3.1.3.3" class="anchored" data-anchor-id="問題が解決しないとき"><span class="header-section-number">3.1.3.3</span> 問題が解決しないとき</h4>
<p>丁寧に、エラーメッセージを確認するしか基本的に方法はないが、何度も、インストール、アンインストールを繰り返していたり、他の方法も含めて、試している場合には、環境変数が適切に書き換えられない場合もあるようなので、以下の確認をお勧めする。</p>
<ul>
<li><p>Windows の検索ボックスに、set などと入力して、設定を開く。（他にも方法はたくさんある。）</p></li>
<li><p>設定の検索窓に、kan などと入力、または環境変数の編集と入力すると、「環境変数の編集」を選択できる。</p></li>
<li><p>上の段に、自分の環境変数雨、下に、システム環境変数が表示される。設定を開くときに、右クリックなどで、管理者として実行をすると、下の段のシステム環境変数を書き換えることができるが、トラブルが生じる場合もあり、現在の作業には、不要。</p></li>
<li><p>環境変数（上の段の自分の環境変数）の Path を確認する。長いと、右端まで確認できないが、ダブルクリックすると、Path 上の、ひとつひとつの ディレクトリーが各行に表示され、確認がしやすくなり、編集も可能になる。なお、一続きの場合には、; が、区切りになている。</p></li>
<li><p>環境変数のPathは初期状態では、次のようになっている。‘UseName’ がそのアカウント名である。ここに、日本語が入っていると、TeX や、TinyTeX はインストールできない。</p>
<ul>
<li><code>Path: C:\Users\'UserName'\AppData\Local\Microsoft\WindowsApps</code></li>
</ul></li>
<li><p>TinyTeX をインストールすると上の Path の後ろに、以下のようなものが追加される。‘myTinyTeX’ の部分が、実際にインストールされた場所になる。</p>
<ul>
<li><code>C:\myTinyTeX\bin\windows</code></li>
</ul></li>
<li><p>注：<code>\, /, ¥</code> で混乱した方もおられるかもしれないが、Windows システムでは、通常、<code>/</code> forward slash を使うが、Unix などのシステムでは、<code>\</code> を使い、日本語システムでは、<code>\</code> が <strong><code>¥</code></strong> マークに置き換わる。Windows では、場合によって、両方が使われている。どのような区別がされているかは、理解できていません。</p></li>
<li><p>R や RStudio や texlive 以外にも、さまざまなものをインストールすると、通常は、<code>C:\Users\'UserName'\AppData\Local\Microsoft\WindowsApps</code> にインストールされますが、texlive のように、システム全体に関わる作業をするものは、別の場所に、インストールされ、その Path が追加されます。どんどん、増えていき、非常に複雑になる場合もあります。一般的には、後ろに追加されます。問題が起こる場合は、Path をみて、TinyTeX 関連の Path がどのように記述されているかをみて、その部分だけ、削除し、一旦、サインアウトし、もう一度、サインインしてから、実行してみてください。</p></li>
<li><p>エラーメッセージ（左下のいくつかのタブにエラーメッセージが表示されます、また、TeX 関係は、右下の Files のもとに、.log とついたファイルが生成されます）を保存して、詳しい方に質問するのが良いでしょう。コンピュータの設定自体を聞かれたら、コマンドプロンプトで <code>systeminfo</code> としたり、R で <code>Sys.getenv()</code> として表示されるものに、情報が含まれています。</p></li>
<li><p>Console で、<code>Sys.setenv(LANG = "en")</code> と英語に切り替えると、エラーメッセージが英語で出されまう。Google 検索などで、そのエラーメッセージで検索すると、解決策が得られることがあります。日本語では、コミュニティが小さいので、解決策が限られます。日本語に戻すときには、<code>Sys.setenv(LANG = "ja")</code> です。</p></li>
<li><p>なにかプログラムをインストールするときは、アンインストールする方法も確認しておくことをお勧めします。Windows のアプリは、設定の、アプリの項目から、当該のアプリをみつけ、右クリックすると、アンインストールできるようになっています。その後には、必ず、サインアウトをして、サインインしなおしてください。</p></li>
</ul>
<p>どうしても解決策が見つからないときは、別のアカウントを作成して、インストールすることをお勧めします。</p>
</section>
</section>
<section id="別のアカウントを作成する方法" class="level3" data-number="3.1.4">
<h3 data-number="3.1.4" class="anchored" data-anchor-id="別のアカウントを作成する方法"><span class="header-section-number">3.1.4</span> 別のアカウントを作成する方法</h3>
<ol type="1">
<li><p>設定のアカウントから、新しいユーザを作成を選択</p></li>
<li><p>その他のユーザーをこのPCに追加</p></li>
<li><p>「このユーザーのサインイン情報がありません」を選択、実行</p></li>
<li><p>「Micorsoft アカウントを持たないユーザを追加する」を選択、実行</p></li>
<li><p>ユーザー名、パスワード を設定、その下の質問三つを選択して回答</p>
<ul>
<li><p>実験の場合は別として、ユーザー名は、ローマ字名（半角）にしてください。</p></li>
<li><p>新しく作成すると、忘れることが多いので、記録を残す。</p></li>
</ul></li>
<li><p>アカウントを選択し、アカウントの種類の変更から、管理者を選択</p></li>
</ol>
</section>
<section id="非管理者として-r-と-rstudio-をインストール" class="level3" data-number="3.1.5">
<h3 data-number="3.1.5" class="anchored" data-anchor-id="非管理者として-r-と-rstudio-をインストール"><span class="header-section-number">3.1.5</span> 非管理者として R と RStudio をインストール</h3>
<ul>
<li><p>R は管理者の場合と同じようにして、インストールできます。ただ、管理者ではないので、全てはインストールできないことの注意が表示され、さらに、インストールする場所を聞かれます。初期設定では、<code>C:\Users\'UserName'\AppData\Programs</code> の中のディレクトリーが指定されます。</p>
<ul>
<li>古いバージョンのものが必要になったり、もとのものを残して最新のものを試すなどにも使えます。管理者の場合に、すべてのユーザ向けではなく、自分用、または、実験用にインストールするときは、インストールするディレクトリーを、以下のものを参考にして設定してください。</li>
</ul></li>
<li><p>RStudio は、通常のものは、インストールできません。同じページ <a href="https://posit.co/download/rstudio-desktop/">RStudio Desktop</a> の、下の方に、All Installers and Tarballs とあり、その下に、Zip/Tarballs とありますから、そこから、最後に Zip とついているファイルをダウンロードしてください。ダウンロードしたものを選択し、すべてを展開を選択して、展開します。すると、RStudio.exe が見つかると思います。エクスプローラの 表示から、拡張子にチェックをいれると、exe まで確認できると思います。</p>
<ul>
<li>ダウンロードフォルダにある、Zip ファイルと、展開したものが紛らわしいので、Zip ファイルのほうは、展開後、消去しておくことをお勧めします。また、Windows のデストップで、右クリックすると、新規から、ショートカット作成を選び、RStudio のショートカットを作成しておくことをお勧めします。</li>
</ul></li>
</ul>
<p>あとは、他の場合と同様です。</p>
</section>
<section id="texlive-のインストール" class="level3" data-number="3.1.6">
<h3 data-number="3.1.6" class="anchored" data-anchor-id="texlive-のインストール"><span class="header-section-number">3.1.6</span> TeXLive のインストール</h3>
<ul>
<li><p>自分のアカウントを確認します。ファイル・エクスプローラから C: Users（ユーザー）の自分のアカウントを見て、半角英数になっていれば、問題ありませんが、もし、全角文字が使われていたら、インストールはできません。上に書いた方法で、別の管理者アカウントを作成し、そのアカウント名で、インストールしてください。そうすれば、自分のアカウントに戻って、利用することが可能なはずです。</p>
<ul>
<li>アカウントを移動するのは、面倒ですから、その場合は、Full インストールしておくことをお勧めします。<code>tlmgr</code> という、TeXLive Manager で、不足しているパッケージなどをインストールするときに、アカウント名の問題が生じる可能性があるからです。</li>
</ul></li>
<li><p><a href="https://www.tug.org/texlive/windows.html">TeX Live on Windows</a> に行き、ここでも推奨している、<a href="https://mirror.ctan.org/systems/texlive/tlnet/install-tl-windows.exe">install-tl-windows.exe</a> からダウンロードし、インストールします。「Windows によって、PC が保護されました。」というメッセージが表示されますから、詳細情報をクリックして、実行します。このあと、しばらくして、「高度な設定」と下にある画面が表示されます。ハードディクス容量が十分ああり、かつ、設定に自信がない場合は、すべてインストールすることをお勧めします。</p>
<ul>
<li><p>スキームが 初期設定では、full スキームとなっていますから、変更として、basic スキーム（plain および latex）を選択し、言語を、日本語と英語、LaTeX 推奨パッケージを追加しておけば、ほとんど問題ありません。これだと、2GB 程度だと思います。ただ、一つだけ、足りないものがあります。</p></li>
<li><p>Windows の検索ボックスに、tex と入れて、TeX Live マネージャーを立ち上げ、<code>framed</code> を、すべての中から検索して、インストールしておきます。</p></li>
<li><p>管理者権限で、コマンドプロンプトから、<code>tlmgr update --self</code>、次に、<code>tlmgr install framed</code> としても、インストールできます。この、<code>tlmgr</code> を使いたくないときは、全てをインストールしておくのが良いでしょう。</p></li>
</ul></li>
</ul>
</section>
<section id="onedrive-の設定について" class="level3" data-number="3.1.7">
<h3 data-number="3.1.7" class="anchored" data-anchor-id="onedrive-の設定について"><span class="header-section-number">3.1.7</span> OneDrive の設定について</h3>
<p>初期設定のままで使っていると、OneDrive に バックアップされる、設定になっていることが多く、ファイルが多くなってくると、最初の5GB を越してしまうため、別契約をすることになります。そのようにして使っておられる方もおられると思いますが、設定の部分（Home）が、OneDrive 上にある場合は、インストールがうまくできない場合があります。さらに、RMarkdown などで、文書を作成するときには、一時的にファイルが作成され、エラーがない場合はあとで削除、エラーが出ると、それを残すというような作業が行われるため、バックアップをしていると、どんどん、そのファイルが増えていきます。そこで、これらのためには、OneDrive を使わず、別の、場所で作業をすることをお勧めします。大切なファイルは、作業後、OneDrive にコピーするなり、Git-GitHub-RStudio 連携などを使うことをお勧めします。ただ、Git-GitHub-RStudio 連携は少し難しいので、興味のあるかたのみとします。</p>
<p>まず、ファイル・エクスプローラを開くと、OneDrive と書かれた、Directory が見えます。その中のファイルが基本的に、OneDrive にバックアップされているものです。</p>
<p>OneDrive を左クリックすると、設定がひらけます。基本的には、デスクトップ、ドキュメント、フォトをそれぞれ、OneDrive でバックアップするかという設定になっています。設定をやめても、削除はされませんが、その後の変更は反映されません。</p>
<p>すでに、OneDrive を使っている場合には、そのバックアップを停止したときに、どのようなことが起こるか確認が必要ですので、C ドライブ内に、R 用の、Directory を作成し、そこで作業するのが良いのですが、さまざまな設定が、Home ディレクトリにあり、それが、バックアップされている場合には、他のディレクトリに、たとえば、プロジェクトを作成したり、Library のディレクトリを指定しても、問題が解決しない場合が多いようです。その場合は、まずは、他のアカウントを作成し、そちらで作業をすることをお勧めします。</p>
<p>そのあとで、バックアップするディレクトリを整理して、OneDrive のバックアップで、デスクトップや、ドキュメントのバックアップをしているのを止め、OneDrive 内に、新たに、ディレクトリを作成して、バックアップしたいものを、その中に移して、能動的に、バックアップするディレクトリを決めるのがよいと思います。</p>
<p>個人個人で状況が異なりますので、この程度にしておきます。</p>
</section>
</section>
<section id="git-github-rstudio" class="level2" data-number="3.2">
<h2 data-number="3.2" class="anchored" data-anchor-id="git-github-rstudio"><span class="header-section-number">3.2</span> Git-GitHub-RStudio</h2>
<p>RStudio で、Git-GitHub を利用するときのメモを書いておきます。</p>
<section id="basics" class="level3" data-number="3.2.1">
<h3 data-number="3.2.1" class="anchored" data-anchor-id="basics"><span class="header-section-number">3.2.1</span> Basics</h3>
<blockquote class="blockquote">
<p><strong>用語：</strong>ワークツリー（work tree with branches）、ステージ（staging）、ローカルリポジトリ（local repository in the PC）、リモートリポジトリ（remote repository in GitHub）、アップストリームリポジトリ（upstream repository in the owner’s GitHub account）、プルリクエスト（pull-request and its approval）</p>
</blockquote>
<p>Git では、<code>-</code> と <code>–-</code> を使い分けるので注意が必要。<code>-</code> は、コマンドオプション、<code>--</code> は、コマンドオプションと、コマンド変数を分けるためのもので、- のあとは、一文字。</p>
<ul>
<li><p>Help：<code>git -help COMMAND</code></p>
<ul>
<li><p>例：<code>git commit --help</code></p></li>
<li><p>例：<code>git -help –-no-pager branch</code></p></li>
</ul></li>
<li><p>初期化：<code>git init</code></p>
<ul>
<li>RStudio: New Project 作成時に、Check または、Version Control Git</li>
</ul></li>
<li><p>GitHub 初期設定：</p>
<ul>
<li><p><code>git config --global user.name "Name"</code></p></li>
<li><p><code>git config --global user.email EmailAddress</code></p></li>
<li><p>RStudio: SSH などの初期設定をしてあれば、Version Control Git で、Set up 可能。確認：Project Option and Global Option</p></li>
</ul></li>
<li><p>変更記録：<code>git add .</code> / <code>git add README.md</code></p>
<ul>
<li><p><code>git commit -m "message"</code></p></li>
<li><p>RStudio: Add されたものが、Git Tab 上に表示、Staged に、チェックをつけ、それから、Commit</p></li>
</ul></li>
<li><p>状況確認：変更内容のチェック：<code>diff/status</code></p>
<ul>
<li><p>ワークツリーとの差分：git diff FileName</p></li>
<li><p>リポジトリーとステージの差分：<code>git diff -staged</code></p></li>
<li><p>変更ファイルのチェック：<code>git status</code></p></li>
<li><p>RStudio: Git Tab のリストにあがっているものについて、Diff ボタンを押すと、表示される。</p></li>
</ul></li>
<li><p>履歴の確認：<code>git log</code></p>
<ul>
<li>RStudio: Git Tab の History を押すと、commit のリストが表示され、その、Log を見ることができる。</li>
</ul></li>
<li><p>もとに戻す：<code>git restore</code></p>
<ul>
<li><p>ワークツリーの変更の取り消し：<code>git restore FileName</code></p></li>
<li><p>ステージにあげた変更をワークツリーに戻す：git restore --staged FileName</p></li>
<li><p>RStudio: Staged にチェックをつけ、More の　revert を選択すると、同様なことが可能のように思われる。</p></li>
</ul></li>
<li><p>ブランチを作成：branch、ポインター HEAD</p>
<ul>
<li><p>作成：<code>git branch BranchName</code></p>
<ul>
<li>RStudio: New Branch から作成可能</li>
</ul></li>
<li><p>ブランチの一覧表示：<code>git branch</code></p>
<ul>
<li>RStudio: New Branch の右の三角から表示、選択</li>
</ul></li>
<li><p>GitHub も含めたブランチの一覧表示：<code>git branch -a</code></p>
<ul>
<li>RStudio: New Branch の右の三角から表示、選択</li>
</ul></li>
<li><p>切り替え：<code>git switch BranchName</code></p></li>
<li><p>新しいブランチを作成して切り替え：git switch --c BranchName</p></li>
<li><p>マージ：<code>git merge BranchName</code></p>
<ul>
<li>難しい。RStudio では、Terminal からで、Editor（Default は、vi 慣れていなければ、<code>Sys.setenv(EDITOR="nano"）</code>などとするのが得策。） が立ち上がる。</li>
</ul></li>
<li><p>GitHub 上のものをマージ：<code>git merge orign/main</code></p></li>
<li><p>コンフリクト conflict: 最終的なものを Editor&nbsp; で残す。</p></li>
</ul></li>
<li><p>GitHub Origin の追加：<code>git add remote orign</code></p>
<ul>
<li><p><code>git add remote origin URL</code></p></li>
<li><p><code>git add upstream origin URL</code> なども可能</p></li>
</ul></li>
<li><p>Push/Pull (Fetch+Merge)/Fetch:　リモート名　ブランチ名</p>
<ul>
<li><p><code>git push orign main</code></p>
<ul>
<li>RStudio: Push ボタン</li>
</ul></li>
<li><p><code>git pull origin main</code></p>
<ul>
<li>RStudio: Pull ボタン</li>
</ul></li>
<li><p><code>git pull</code> （省略可能）</p></li>
<li><p><code>git fetch origin</code> （リモート名）confilict が起こりそうな時は、fetch + merge</p>
<ul>
<li>変更途中の時は、fetch + merge 、main に取り込みたい時は、pull</li>
</ul></li>
<li><p><code>git fetch --prune</code></p></li>
<li><p><code>git remote prune origin</code></p>
<ul>
<li>RStudio では、Git Tab の一番右の、Refresh ボタン</li>
</ul></li>
</ul></li>
<li><p>Pull Request の手順</p>
<ul>
<li><p>main を最新の状態に更新: 例：This branch is <a href="https://github.com/ds-sl/eco-book/compare/main...icu-hsuzuki:eco-book:main">2 commits behind</a> icu-hsuzuki:main.　Synk fork: This branch is out-of-date &gt; Update branch</p>
<ul>
<li><p><code>git branch</code></p></li>
<li><p><code>git pull origin main</code></p></li>
</ul></li>
<li><p>ブランチを作成</p>
<ul>
<li><code>git switch -c BranchName</code></li>
</ul></li>
<li><p>ファイルを修正・コミット</p>
<ul>
<li><p><code>git add .</code></p></li>
<li><p><code>git commit -m "message"</code></p></li>
</ul></li>
<li><p>Push</p>
<ul>
<li><code>git push origin BranchName</code></li>
</ul></li>
<li><p>Pull Request</p>
<ul>
<li><p>@GitHub: Pull Request &gt; New Pull Request</p></li>
<li><p>base: main &lt;- compare: BranchName（Comparing changes で、変更を提案している BranchName を確認）</p></li>
<li><p>Create Pull Request&gt;　Add Title, Comment &gt; Create Pull Requst ボタン</p></li>
<li><p>File Changed を確認</p></li>
<li><p>Reviewer を追加しておいてみてもらう。</p></li>
<li><p>Merge Pull Request</p></li>
<li><p>Delet Branch: git branch -d BranchName (-D force)</p></li>
<li><p>Code で確認</p></li>
</ul></li>
<li><p>Code Review</p></li>
<li><p>Merge</p></li>
</ul></li>
</ul>
</section>
</section>
<section id="removing-large-files" class="level2" data-number="3.3">
<h2 data-number="3.3" class="anchored" data-anchor-id="removing-large-files"><span class="header-section-number">3.3</span> Removing Large Files</h2>
<ul>
<li><p>Scenario 1: The Large File Was Just Added in the Most Recent Commit</p>
<ul>
<li><p>git rm --cached <em>big_file_name</em></p></li>
<li><p>git commit --amend -C HEAD</p></li>
</ul></li>
<li><p>Scenario 2: The Large File Was Committed Prior to The Most Recent Commit</p>
<ul>
<li><p>Locating the Last "Good" Commit: git log --oneline</p></li>
<li><p>Initiate a Rebase Between the Last "Good" Commit and the Current Commit: git rebase -i 8464da4</p></li>
<li><p>This will open up a file in your Git editor (in my case, Vim), that looks something like this:</p>
<ul>
<li>pick -&gt; edit</li>
</ul></li>
<li><p>git rm --cached csv_building_damage_assessment.csv</p></li>
<li><p>git commit --amend -C HEAD</p></li>
</ul></li>
</ul>
<!-- -->
<ul>
<li>Reset changes: git reset --hard SHA-Name</li>
</ul>
<section id="simple-pull-request" class="level3" data-number="3.3.1">
<h3 data-number="3.3.1" class="anchored" data-anchor-id="simple-pull-request"><span class="header-section-number">3.3.1</span> Simple Pull Request</h3>
<ol type="1">
<li><p>Log in to your GitHub account</p></li>
<li><p>Go to the respository you want to comment</p></li>
<li><p>Fork the repository</p></li>
<li><p>Clone the repository (forked from the original) using ssh</p>
<ol type="1">
<li><p>git clone <a href="mailto:git@github.com">git@github.com</a>:account/repo</p></li>
<li><p>Enter ssh permisssion</p></li>
<li><p>less FileName</p></li>
</ol></li>
<li><p>git checkout -b Branch-Name</p></li>
<li><p>edit the file</p></li>
<li><p>git status</p></li>
<li><p>git diff</p></li>
<li><p>git add FileName</p></li>
<li><p>git commit -m “short message”</p></li>
<li><p>git push origin Branch-Name</p></li>
<li><p>In GitHub acount: Compare &amp; pull request</p></li>
<li><p>Add a short comment</p></li>
<li><p>Push Create a pull request</p></li>
</ol>
</section>
<section id="owner-side-approval" class="level3" data-number="3.3.2">
<h3 data-number="3.3.2" class="anchored" data-anchor-id="owner-side-approval"><span class="header-section-number">3.3.2</span> Owner Side Approval</h3>
<ol type="1">
<li><p>See commit, file changed</p></li>
<li><p>Merges pull request</p></li>
<li><p>Confirm merge</p></li>
</ol>
</section>
<section id="参考資料" class="level3" data-number="3.3.3">
<h3 data-number="3.3.3" class="anchored" data-anchor-id="参考資料"><span class="header-section-number">3.3.3</span> 参考資料</h3>
<ul>
<li><p><a href="https://training.github.com">GitHub Training Kit</a>: CheatSheet や、日本語ドキュメントもある</p></li>
<li><p><a href="https://www.tidyverse.org/blog/2020/12/usethis-2-0-0/">Package usethis 2.0.0</a>: Tidyverse</p>
<ul>
<li><a href="https://happygitwithr.com/index.html">Happy Git and GitHub for the useR</a></li>
</ul></li>
<li><p><a href="https://medium.com/analytics-vidhya/tutorial-removing-large-files-from-git-78dbf4cf83a">Removing Large Files</a></p></li>
<li><p><a href="https://support.posit.co/hc/en-us/articles/200532077">Version Control with Git and SVN</a>: Posit Site</p>
<ul>
<li><a href="https://posit.co/resources/videos/managing-part-2-github-and-rstudio/">Managing – Part 2 (Github and RStudio)</a> [Video Lecture 48 min.]</li>
</ul></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./articles.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Articles</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./windows.html" class="pagination-link">
        <span class="nav-page-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Windows</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>